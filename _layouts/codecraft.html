{% capture _unused %}
{% assign meta = site.meta %}
{% assign domain = "https://" | append: site.base.url %}
{% assign folder = domain | append: "/" | append: site.base.folder %}
{% assign asset = folder | append: "/assets" %}
{% assign image = asset | append: "/images" %}
{% assign font = asset | append: "/fonts" %}
{% assign css = asset | append: "/css" %}
{% assign js = asset | append: "/js" %}
{% assign icon = image | append: "/favicon.ico" %}
{% endcapture %}<!DOCTYPE html>
<html lang="{{ meta.locale | default: 'en' }}">
{%- include components/head.html -%}
<body>
    <div id="translate"></div>
    <input type="checkbox" aria-expanded="false" id="menu" autocomplete='off'>
    <header>
        <a tabindex="0" href="{{folder}}" id="logo-link">
            <div id="logo" class="notranslate">
                <img id="logo-pic" width="36px" height="36px" src="{{icon}}" alt="logo">
                {{meta.title}}
            </div>
            <div id="slogan">{{meta.tagline}}</div>
        </a>
    </header>
    <label for="menu" aria-label="Toggle Menu" id="menu-label">
        <div class="border" aria-hidden="true"></div>
        <div class="icon icon-menu" aria-hidden="true"></div>
    </label>
    <aside>
        {%- include components/sidebar.html -%}
    </aside>
    <main>
        <label for="toc"><div class="icon icon-toc" aria-label="Show Table of Contents"></div></label>
        <h1>{{ page.title | capitalize }}</h1>
        <input type="checkbox" aria-expanded="false" id="toc" autocomplete='off'>
        <div id="index"><div id="reading-time"></div><div id="chapters"></div></div>
        {{ content }}        
        {% if page.comments %}{%- include components/comments.html -%}{% endif %}
    </main>
    <script src="https://cdn.jsdelivr.net/npm/lunr@{{ site.version.lunr }}/+esm" async></script>
    <script src="{{js}}/jtd.js" async></script>
    <script src="{{js}}/script.js" async></script>
    {% if page.mermaid and site.version.mermaid %}
    <script type="module" defer>
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@{{ site.version.mermaid }}/+esm';
        mermaid.initialize({ startOnLoad: true });
        mermaid.run({ querySelector: '.language-mermaid' }).then(() => {
            document.querySelectorAll('.language-mermaid').forEach(el => {
                el.classList.add('mermaid-loaded');
            });
        });
    </script>
    {% endif %}
</body>
</html>